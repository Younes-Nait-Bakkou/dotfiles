---

- name: Install Hyprland Utilities
  ansible.builtin.package:
    name:
      # --- Hyprland Basics ---
      - grim
      - slurp
      - wl-clipboard
      - cliphist
      # - hyprlock-git
      - swaylock
      - hypridle-git

      # --- Audio (Pipewire) ---
      - pipewire
      - pipewire-pulse
      - wireplumber
      - pavucontrol

      # --- Connectivity & UI ---
      - network-manager-applet
      - polkit-gnome

      # --- Bluetooth (Optional) ---
      - bluez
      - bluez-utils
      - blueman
    state: present
  become: true

- name: Ensure Screenshot Directory Exists
  ansible.builtin.file:
    path: '{{ remote.HOME }}/Pictures/Screenshots'
    state: directory
    owner: '{{ remote.USER }}'
    group: '{{ remote.USER }}'
    mode: '0755'

- name: Enable Bluetooth Service
  ansible.builtin.systemd:
    name: bluetooth
    enabled: true
    state: started
  become: true
  ignore_errors: true
